<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- スマホ用アイコン -->
    <link rel=”apple-touch-icon” href=”img/unchi.png” sizes=”180×180″>
    <!-- ファビコン -->
    <link rel=”icon” type=”image/x-icon” href=”img/unchi.ico”>
    <script src="js/face-api.min.js"></script>
    <!-- BootstrapのCSS読み込み -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- jQuery読み込み -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- BootstrapのJS読み込み -->
    <script src="js/bootstrap.min.js"></script>
    <title>簡単2DVtuber</title>
</head>

<body style="background-color: white;">
    <div class="container-fluid">
        <div class="row">
            <form name="settings">
                <div class="form-group form-check">
                    <input type="checkbox" class="form-check-input" name="hidevideo" value="1"
                        onchange="displayChange()">
                    <label class="form-check-label" for="hideVideo">カメラの映像を表示する</label>
                </div>
                <label for="customRange1" class="form-label">カメラ映像サイズ（初期値：0）</label>
                <input type="range" value="0" max="100" class="form-range" id="videosizeslider"
                    onmousemove="videoSizeChange()">
                <label for="uploadimg" class="form-label">顔画像変更</label>
                <input type="file" id="uploadimg" name="uploadimg" accept="image/jpeg, image/png"
                    onchange="changeImage(this)">
                <div class="form-group form-check">
                    <input type="checkbox" class="form-check-input" name="greenback" value="1"
                        onchange="canvasRefresh()">
                    <label class="form-check-label" for="greenback">背景をグリーンバックにする</label>
                </div>
                <div class="form-group form-check">
                    <!--<input type="checkbox" class="form-check-input" name="lockimgposition" value="1"
                        onchange="imgPositionLock()">
                    <label class="form-check-label" for="lockimgposition">画像を中央に固定する</label>-->
                </div>
                <label for="customRange1" class="form-label">画像サイズ（初期値：100）</label>
                <input type="range" value="100" max="200" class="form-range" id="imgsizeslider"
                    onmousemove="imgSizeChange()">
                <label for="customRange1" class="form-label">画像位置水平方向</label>
                <input type="range" value="0" min="-200" max="200" class="form-range" id="relativepositionX"
                    onmousemove="imgPositionXChange()">
                <label for="customRange1" class="form-label">画像位置垂直方向</label>
                <input type="range" value="0" min="-200" max="200" class="form-range" id="relativepositionY"
                    onmousemove="imgPositionYChange()">

            </form>
        </div>
        <div class="row" id="maincontents">
            <div class="col-lg-12 col-xl-12">
                <!--Webカメラ映像-->
                <video onloadedmetadata="onPlay(this)" id="video" autoplay muted playsinline
                    style="position: absolute; z-index:15; width:0%;"></video>
                <!--顔描画用Canvas-->
                <canvas id="canvas"
                    style="position:absolute; z-index:2; background-color:rgba(255,255,2550,1);"></canvas>
                <!--Loading画面-->
                <div id="loader" class="d-flex justify-content-center"
                    style="position:absolute; height: 100vh; width: 100vw; z-index: 10; background-color: white;">
                    <div class="spinner-border" role="status">
                    </div>
                    <div>顔を認識しています。<br>カメラ映像を確認しながら正面に顔を映してください。</div>
                </div>
            </div>
        </div>
        <div　class="row">
            <!--
            <div class="col-lg-12 col-xl-12">
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                横長ヘッダー用
                <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5397607715860650"
                    data-ad-slot="2318919305" data-ad-format="auto" data-full-width-responsive="true"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
            -->
        </div>
        <button type="button" class="btn btn-primary" onclick="location.href='https://twitter.com/sanpposan'">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-twitter"
                viewBox="0 0 16 16">
                <path
                    d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z">
                </path>
            </svg>
            質問、連絡はこちらへ
        </button>
        <p>上手く動作しない場合はキャッシュの消去を試してみてください。（F12で開発者ツールを開き、ブラウザのリロードボタンを右クリックで可能です。）</p>
    </div>
    <!-- JS読み込み -->
    <script type="text/javascript" src="js/scripts.js"></script>
</body>

</html>